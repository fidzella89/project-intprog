{"ast":null,"code":"import { Role } from './_models';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./_services\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"./_components/alert.component\";\nfunction AppComponent_nav_1_a_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 13);\n    i0.ɵɵtext(1, \"Employees\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_nav_1_a_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 14);\n    i0.ɵɵtext(1, \"Departments\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_nav_1_a_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 15);\n    i0.ɵɵtext(1, \"Admin\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function () {\n  return {\n    exact: true\n  };\n};\nfunction AppComponent_nav_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"nav\", 5)(1, \"div\", 6)(2, \"a\", 7);\n    i0.ɵɵtext(3, \"Home\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"a\", 8);\n    i0.ɵɵtext(5, \"Profile\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, AppComponent_nav_1_a_6_Template, 2, 0, \"a\", 9);\n    i0.ɵɵtemplate(7, AppComponent_nav_1_a_7_Template, 2, 0, \"a\", 10);\n    i0.ɵɵtemplate(8, AppComponent_nav_1_a_8_Template, 2, 0, \"a\", 11);\n    i0.ɵɵelementStart(9, \"a\", 12);\n    i0.ɵɵlistener(\"click\", function AppComponent_nav_1_Template_a_click_9_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.openLogoutModal());\n    });\n    i0.ɵɵtext(10, \"Logout\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLinkActiveOptions\", i0.ɵɵpureFunction0(4, _c0));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.account.role === ctx_r0.Role.Admin || ctx_r0.account.role === ctx_r0.Role.Moderator);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.account.role === ctx_r0.Role.Admin);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.account.role === ctx_r0.Role.Admin);\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"d-block\": a0\n  };\n};\nfunction AppComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"div\", 17)(2, \"div\", 18)(3, \"div\", 19)(4, \"h5\", 20);\n    i0.ɵɵtext(5, \"Confirm Logout\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_2_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.closeLogoutModal());\n    });\n    i0.ɵɵelementStart(7, \"span\", 22);\n    i0.ɵɵtext(8, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"div\", 23)(10, \"p\");\n    i0.ɵɵtext(11, \"Are you sure you want to logout?\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 24)(13, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_2_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.closeLogoutModal());\n    });\n    i0.ɵɵtext(14, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_2_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.logout());\n    });\n    i0.ɵɵtext(16, \"Logout\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(1, _c1, ctx_r1.showLogoutModal));\n  }\n}\nfunction AppComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 27);\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    \"bg-light\": a0\n  };\n};\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(accountService, router) {\n      this.accountService = accountService;\n      this.router = router;\n      this.Role = Role;\n      this.showLogoutModal = false;\n      this.accountService.account.subscribe(x => this.account = x);\n    }\n    openLogoutModal() {\n      this.showLogoutModal = true;\n    }\n    closeLogoutModal() {\n      this.showLogoutModal = false;\n    }\n    logout() {\n      this.closeLogoutModal();\n      this.accountService.logout().subscribe({\n        complete: () => {\n          this.router.navigate(['/account/login']);\n        },\n        error: error => {\n          console.error('Logout error:', error);\n          this.router.navigate(['/account/login']);\n        }\n      });\n    }\n  }\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app\"]],\n    decls: 7,\n    vars: 6,\n    consts: [[1, \"app-container\", 3, \"ngClass\"], [\"class\", \"navbar navbar-expand navbar-dark bg-dark\", 4, \"ngIf\"], [\"class\", \"modal fade show\", \"tabindex\", \"-1\", \"role\", \"dialog\", 3, \"ngClass\", 4, \"ngIf\"], [\"class\", \"modal-backdrop fade show\", 4, \"ngIf\"], [\"name\", \"subnav\"], [1, \"navbar\", \"navbar-expand\", \"navbar-dark\", \"bg-dark\"], [1, \"navbar-nav\"], [\"routerLink\", \"/\", \"routerLinkActive\", \"active\", 1, \"nav-item\", \"nav-link\", 3, \"routerLinkActiveOptions\"], [\"routerLink\", \"/profile\", \"routerLinkActive\", \"active\", 1, \"nav-item\", \"nav-link\"], [\"routerLink\", \"/employees\", \"routerLinkActive\", \"active\", \"class\", \"nav-item nav-link\", 4, \"ngIf\"], [\"routerLink\", \"/departments\", \"routerLinkActive\", \"active\", \"class\", \"nav-item nav-link\", 4, \"ngIf\"], [\"routerLink\", \"/admin\", \"routerLinkActive\", \"active\", \"class\", \"nav-item nav-link\", 4, \"ngIf\"], [1, \"nav-item\", \"nav-link\", 2, \"cursor\", \"pointer\", 3, \"click\"], [\"routerLink\", \"/employees\", \"routerLinkActive\", \"active\", 1, \"nav-item\", \"nav-link\"], [\"routerLink\", \"/departments\", \"routerLinkActive\", \"active\", 1, \"nav-item\", \"nav-link\"], [\"routerLink\", \"/admin\", \"routerLinkActive\", \"active\", 1, \"nav-item\", \"nav-link\"], [\"tabindex\", \"-1\", \"role\", \"dialog\", 1, \"modal\", \"fade\", \"show\", 3, \"ngClass\"], [\"role\", \"document\", 1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"modal-backdrop\", \"fade\", \"show\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, AppComponent_nav_1_Template, 11, 5, \"nav\", 1);\n        i0.ɵɵtemplate(2, AppComponent_div_2_Template, 17, 3, \"div\", 2);\n        i0.ɵɵtemplate(3, AppComponent_div_3_Template, 1, 0, \"div\", 3);\n        i0.ɵɵelement(4, \"router-outlet\", 4)(5, \"alert\")(6, \"router-outlet\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c2, ctx.account));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.account);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showLogoutModal);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showLogoutModal);\n      }\n    },\n    dependencies: [i3.NgClass, i3.NgIf, i2.RouterOutlet, i2.RouterLink, i2.RouterLinkActive, i4.AlertComponent],\n    encapsulation: 2\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}